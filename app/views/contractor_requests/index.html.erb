<div class="page-header">
  <h1>Salaried Contractor Requests</h1>
</div>

<%= render partial: 'shared/index_action_buttons',
  locals: { model_type: ContractorRequest, pagination_object: @contractor_requests } %>

<table class="table table-striped">
  <thead>
    <tr>
      <th id="position_description"><%= sort_link(@q, :position_description, 'Position description') %></th>
      <th id="employee_type"><%= sort_link(@q, 'employee_type_code', 'Employee type') %></th>
      <th id="request_type"><%= sort_link(@q, 'request_type_code', 'Request type') %></th>
      <th id="contractor_name"><%= sort_link(@q, :contractor_name, 'Contractor name') %></th>
      <th id="number_of_months"><%= sort_link(@q, :number_of_months, 'Number of months') %></th>
      <th id="annual_base_pay"><%= sort_link(@q, :annual_base_pay, 'Annual base pay') %></th>
      <th id="nonop_funds"><%= sort_link(@q, :nonop_funds, 'Nonop funds') %></th>
      <th id="division"><%= sort_link(@q, 'division_code', 'Division') %></th>
      <th id="department"><%= sort_link(@q, 'department_code', 'Department') %></th>
      <th id="unit"><%= sort_link(@q, 'unit_code', 'Unit') %></th>
      <th id="review_status"><%= sort_link(@q, 'review_status_id', 'Review Status') %></th>
      <%= render 'shared/table_action_buttons_header' %>
    </tr>
  </thead>

  <tbody>
    <% @contractor_requests.each do |contractor_request| %>
      <tr <%= "style=background-color:#{contractor_request.review_status.color};" if contractor_request.review_status %> >
        <td headers="position_description"><%= contractor_request.position_description %></td>
        <td headers="employee_type"><%= contractor_request.employee_type.code %></td>
        <td headers="request_type"><%= contractor_request.request_type.code %></td>
        <td headers="contractor_name"><%= contractor_request.contractor_name %></td>
        <td headers="number_of_months"><%= contractor_request.number_of_months %></td>
        <td headers="annual_base_pay"><%= number_to_currency(contractor_request.annual_base_pay) %></td>
        <td headers="nonop_funds"><%= number_to_currency(contractor_request.nonop_funds) %></td>
        <td headers="division"><%= contractor_request.department.division.code %></td>
        <td headers="department"><%= contractor_request.department.code %></td>
        <td headers="unit"><%= contractor_request.unit.code if contractor_request.unit %></td>
        <td headers="review_status"><%= contractor_request.review_status.name if contractor_request.review_status  %></td>
        <%= render 'shared/table_action_buttons', object: contractor_request %>
      </tr>
    <% end %>
  </tbody>
</table>

<%= will_paginate renderer: BootstrapPagination::Rails %>
